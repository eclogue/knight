{"swagger":"2.0","info":{"version":"v0.1.1","title":"knight API","description":"这是knight自动生成 API，仅限供参考。api 采用 rest 风格，正常情况下response statusCode\n20x 为成功的返回，\n40x 为客户端错误，\n50x 为服务端错误，\n20x 返回 格式为 { message: 'OK', data: ... }\n非20x 返回 { message: '错误描述', code: '详细请看 api 错误码'}\n"},"host":"localhost","basePath":"\/","schemes":["http"],"produces":["application\/json"],"consumes":["application\/json","multipart\/form-data"],"tags":[{"name":"Auth","description":"认证"},{"name":"Users","description":"用户"}],"paths":{"\/posts":{"get":{"parameters":[{"in":"query","type":"string","description":"query param:q","required":false,"name":"q"}],"tags":[],"description":"get article list","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"string","enum":["0"]},"data":{"type":"object","properties":{"list":{"type":"string","enum":["list"]},"total":{"type":"string","enum":["total"]},"page":{"type":"string","enum":["page"]},"pageSize":{"type":"string","enum":["pageSize"]}}}}}}}}},"\/posts\/{id}":{"get":{"parameters":[{"in":"path","name":"id","required":true,"description":"id","type":"string"}],"tags":[],"description":"get article detail","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["article not found"]},"code":{"type":"integer","enum":[1]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"string","enum":["0"]},"data":{"type":"string","enum":["art"]}}}}}}},"\/posts\/{id}\/comments":{"get":{"parameters":[{"in":"path","name":"id","required":true,"description":"id","type":"string"},{"in":"query","type":"string","description":"query param:page","required":false,"name":"page"}],"tags":[],"description":"get article comment by article id","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["param id required"]},"code":{"type":"integer","enum":[1]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]},"data":{"type":"object","properties":{"list":{"type":"string","enum":["comments"]},"page":{"type":"string","enum":["page"]},"pageSize":{"type":"string","enum":["pageSize"]},"total":{"type":"string","enum":["total"]}}}}}}}},"post":{"parameters":[{"in":"path","name":"id","required":true,"description":"id","type":"string"},{"in":"body","description":"payload params","name":"body","schema":{"type":"object","properties":{"content":{"type":"string"},"email":{"type":"string"},"site":{"type":"string"},"username":{"type":"string"}}}}],"tags":[],"description":"add a comment with article id","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["参数错误了","文章不存在"]},"code":{"type":"integer","enum":[1,2]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]}}}}}}},"\/category":{"get":{"tags":[],"description":"get category list","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]},"data":{"type":"string","enum":["list"]}}}}}}},"\/article":{"get":{"parameters":[{"in":"query","type":"string","description":"query param:page","required":false,"name":"page"}],"tags":[],"description":"article list","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"page":{"type":"string","enum":["page"]},"pageSize":{"type":"string","enum":["pageSize"]},"list":{"type":"string","enum":["list"]}}}}}}}}},"\/albums":{"get":{"tags":[],"description":"get album list","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]},"data":{"type":"object","properties":{"list":{"type":"string","enum":["list"]},"total":{"type":"string","enum":["total"]},"page":{"type":"string","enum":["page"]},"pageSize":{"type":"string","enum":["pageSize"]}}}}}}}}},"\/albums\/{albumId}\/photos":{"get":{"parameters":[{"in":"path","name":"albumId","required":true,"description":"albumId","type":"string"},{"in":"query","type":"string","description":"query param:last","required":false,"name":"last"}],"tags":[],"description":"get photos of album by album id","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["illegal param albumId","album not found"]},"code":{"type":"integer","enum":[1,2]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"page":{"type":"string","enum":["page"]},"pageSize":{"type":"string","enum":["pageSize"]},"list":{"type":"string","enum":["photos"]},"total":{"type":"string","enum":["total"]},"albumInfo":{"type":"string","enum":["album"]}}}}}}}}},"\/admin\/survey":{"get":{"tags":[],"description":"网站概况","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]},"data":{"type":"object","properties":{"articleNumber":{"type":"integer","enum":[4]},"commentNumber":{"type":"integer","enum":[3]},"albumNumber":{"type":"integer","enum":[2]},"photoNumber":{"type":"integer","enum":[1]},"pv":{"type":"integer","enum":[1]},"ip":{"type":"integer","enum":[1]},"system":{"type":"string","enum":["system"]}}}}}}}}},"\/admin\/article":{"get":{"parameters":[{"in":"query","type":"string","description":"query param:page","required":false,"name":"page"}],"tags":[],"description":"article list","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"page":{"type":"string","enum":["page"]},"pageSize":{"type":"string","enum":["pageSize"]},"list":{"type":"string","enum":["list"]}}}}}}}},"post":{"parameters":[{"in":"body","description":"payload params","name":"body","schema":{"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"},"tags":{"type":"string"},"cateId":{"type":"string"},"permission":{"type":"string"},"created":{"type":"string"}}}}],"tags":[],"description":"create article","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["Illegal param permission","title required","content can not empty"]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"code":{"type":"integer","enum":[0]},"message":{"type":"string","enum":["ok"]}}}}}}},"\/admin\/article\/{id}":{"get":{"parameters":[{"in":"path","name":"id","required":true,"description":"id","type":"string"}],"tags":[],"description":"","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["Illegal ID","article not found"]},"code":{"type":"integer","enum":[1,2]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]},"data":{"type":"string","enum":["art"]}}}}}},"delete":{"parameters":[{"in":"path","name":"id","required":true,"description":"id","type":"string"}],"tags":[],"description":"drop a article by id","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["Illegal ID","article not found"]},"code":{"type":"integer","enum":[1,2]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]}}}}}},"put":{"parameters":[{"in":"path","name":"id","required":true,"description":"id","type":"string"},{"in":"body","description":"payload params","name":"body","schema":{"type":"object","properties":{"title":{"type":"string"},"tags":{"type":"string"},"content":{"type":"string"},"cateId":{"type":"string"},"created":{"type":"string"},"permission":{"type":"string"}}}}],"tags":[],"description":"","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["content && title are required","article not found"]},"code":{"type":"integer","enum":[1,2]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]}}}}}}},"\/admin\/comments":{"get":{"parameters":[{"in":"query","type":"string","description":"query param:page","required":false,"name":"page"}],"tags":[],"description":"get article comment by article id","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]},"data":{"type":"object","properties":{"list":{"type":"string","enum":["comments"]},"page":{"type":"string","enum":["page"]},"pageSize":{"type":"string","enum":["pageSize"]},"total":{"type":"string","enum":["total"]}}}}}}}}},"\/admin\/all\/albums":{"get":{"tags":[],"description":"get all album name","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"list":{"type":"string","enum":["list"]}}}}}}}}},"\/login":{"post":{"parameters":[{"in":"body","description":"payload params","name":"body","schema":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}}}],"tags":[],"description":"login api","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["param error"]},"code":{"type":"integer","enum":[1]}}}},"404":{"description":"response of 404","schema":{"type":"object","properties":{"message":{"type":"string","enum":["user not found"]},"code":{"type":"integer","enum":[2]}}}},"401":{"description":"response of 401","schema":{"type":"object","properties":{"message":{"type":"string","enum":["password incorrect"]},"code":{"type":"integer","enum":[3]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"user":{"type":"string","enum":["userInfo"]},"token":{"type":"string","enum":["token"]}}}}}}}}},"\/admin\/photos":{"post":{"parameters":[{"in":"body","description":"payload params","name":"body","schema":{"type":"object","properties":{"album":{"type":"string","default":1}}}}],"tags":[],"description":"upload a new photo","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"data":{"type":"string","enum":["success"]}}}}}}},"\/admin\/category":{"post":{"parameters":[{"in":"body","description":"payload params","name":"body","schema":{"type":"object","properties":{"name":{"type":"string"}}}}],"tags":[],"description":"create category","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["Illegal Param"]},"code":{"type":"integer","enum":[1]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]},"data":{"type":"string","enum":["cate"]}}}}}}},"\/admin\/albums":{"post":{"parameters":[{"in":"body","description":"payload params","name":"body","schema":{"type":"object","properties":{"name":{"type":"string"},"detail":{"type":"string"},"isShow":{"type":"string"}}}}],"tags":[],"description":"create album","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["Illegal Param"]},"code":{"type":"integer","enum":[123]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]},"data":{"type":"string","enum":["data"]}}}}}}},"\/admin\/category\/{id}":{"delete":{"parameters":[{"in":"path","name":"id","required":true,"description":"id","type":"string"}],"tags":[],"description":"drop category by id","security":[],"responses":{"default":{"description":"service error","schema":{"$ref":"#\/definitions\/Error"}},"400":{"description":"response of 400","schema":{"type":"object","properties":{"message":{"type":"string","enum":["cate id miss"]},"code":{"type":"integer","enum":[1]}}}},"404":{"description":"response of 404","schema":{"type":"object","properties":{"message":{"type":"string","enum":["category not found"]},"code":{"type":"integer","enum":[2]}}}},"200":{"description":"response of 200","schema":{"type":"object","properties":{"message":{"type":"string","enum":["ok"]},"code":{"type":"integer","enum":[0]}}}}}}}},"definitions":{"Album":{"description":"Model of Album","type":"object","properties":{"id":{"type":"integer","description":""},"userId":{"type":"integer","description":""},"name":{"type":"string","description":""},"detail":{"type":"string","description":""},"isShow":{"type":"integer","description":"","default":[1]},"created":{"type":"integer","description":""},"updated":{"type":"string","description":""}}},"Category":{"description":"Model of Category","type":"object","properties":{"id":{"type":"integer","description":""},"name":{"type":"string","description":""},"created":{"type":"integer","description":""}}},"Comment":{"description":"Model of Comment","type":"object","properties":{"id":{"type":"integer","description":""},"artId":{"type":"integer","description":""},"username":{"type":"integer","description":""},"email":{"type":"integer","description":""},"site":{"type":"string","description":"","default":[""]},"content":{"type":"string","description":""},"like":{"type":"integer","description":"","default":[0]},"unlike":{"type":"integer","description":"","default":[0]},"created":{"type":"integer","description":""},"updated":{"type":"string","description":""}}},"Error":{"description":"Model of Error","type":"object","properties":{"code":{"type":"integer","description":"server error code","default":[500]},"message":{"type":"string","description":"","default":["service error"]}}},"Photo":{"description":"Model of Photo","type":"object","properties":{"id":{"type":"integer","description":""},"userId":{"type":"integer","description":""},"albumId":{"type":"integer","description":"","default":[0]},"url":{"type":"string","description":""},"name":{"type":"string","description":""},"attr":{"type":"string","description":""},"size":{"type":"integer","description":""},"panorama":{"type":"integer","description":"","default":[0]},"isShow":{"type":"integer","description":"","default":[1]},"created":{"type":"integer","description":""},"updated":{"type":"string","description":""}}},"Post":{"description":"Model of Post","type":"object","properties":{"id":{"type":"integer","description":""},"userId":{"type":"integer","description":""},"cateId":{"type":"integer","description":""},"title":{"type":"string","description":""},"tags":{"type":"string","description":""},"views":{"type":"integer","description":""},"content":{"type":"string","description":""},"permission":{"type":"integer","description":"","default":[0]},"created":{"type":"integer","description":""},"updated":{"type":"string","description":""}}},"User":{"description":"Model of User","type":"object","properties":{"id":{"type":"integer","description":""},"username":{"type":"string","description":""},"nickname":{"type":"string","description":""},"password":{"type":"string","description":""},"email":{"type":"string","description":"","default":[""]},"created":{"type":"integer","description":""},"updated":{"type":"string","description":""}}}}}